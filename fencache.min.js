var fencache=function(n,r,t){return function(n,r,t){"use strict";function e(r,t,e,u,f){return n(r,t,e,u,f)}function u(r,t,e,u,f){return s=y(r,t,e,u,f),d[s]?d[s]:(w(),d[s]=n(r,t,e,u,f))}function f(r){return v===r?a:(v=r,a=n(r))}function o(n){return 7>n?n-2:20>n?.67*n>>>0:5+.37*n>>>0}function i(r,t,e,u,f){if(A(r,t,e,u,f),s=y(r,t,e,u,f),v[0]===s)return a[0];for(var o=1;m>=o;o++)if(v[o]===s){var i,c=a[o];return i=g>=o?o-1:g,v[o]=v[i],a[o]=a[i],v[i]=s,a[i]=c,c}return b===m&&(b===h?b=g:m++),v[++b]=s,a[b]=n(r,t,e,u,f)}function c(n,r,t,e,u,f){A(r,t,e,u,f),s=y(r,t,e,u,f);for(var o=0;m>=o;o++)if(v[o]===s){var i=a[o];return a[o]=n,i}return b===m&&(b===h?b=g:m++),v[++b]=s,a[b]=n}function a(n,r,t,e,u){s=y(n,r,t,e,u);for(var f=0;m>=f;f++)if(v[f]===s)return a[f]}var v,a,s,y=function(n){return n},l=typeof t;if("function"===l?y=t:(1>r&&"string"!==l||"object"===l)&&(y="number"===l?function(n){return""+n}:function(n){return"number"==typeof n?""+n:"string"==typeof n?n:JSON.stringify(n)}),1>r){var d={},p=0,w=function(){};return 0>r&&(r=0-r,w=function(){if(p++>r){var n=r>>>1;for(var t in d)if(d.hasOwnProperty(t)&&(delete d[t],--p<n))break}}),u.state=function(){return d},u.reset=function(n){d=n||{},p=0},u.put=function(n,r,t,e,u,f){var o=d[s=y(r,t,e,u,f)];return d[s]=n,void 0===o&&w(),o},u.val=function(n){return d[y(n)]},u.bypass=e,u}if(1===r)return f.reset=function(n){n?(v=n.key,a=n.val):v=a=void 0},f.state=function(){return{key:v,val:a}},f.put=function(n,r,t,e,u,f){var o=a;return a=n,v=y(r,t,e,u,f),o},f.val=function(n,r,t,e,u){return v===y(n,r,t,e,u)?a:void 0},f.bypass=e,f;v=new Array(r),a=new Array(r);var s,b=-1,h=r-1,m=1,g=o(r),k=function(r,t,e,u,f){s=y(r,t,e,u,f);for(var o=n(r,t,e,u,f),i=0;i<v.length;i++)v[i]=s,a[i]=o;A=function(){}},A=k;return i.reset=function(n){n?(v=n.key,a=n.val,b=n.rc,p=n.fill):(b=0,v=new Array(r),a=new Array(r),A=k)},i.state=function(){return{key:v,val:a,rc:b,ra:g,re:m,rex:h}},i.val=a,i.put=c,i.bypass=e,i.init=A,i}(n,r,t)};"undefined"!=typeof module&&module.exports?module.exports=fencache:"undefined"!=typeof window?window.fencache=fencache:console.log("fencache.js did not import");